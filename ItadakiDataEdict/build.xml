<?xml version="1.0"?>

<project name="ItadakiDataEdict" default="uno-package" basedir=".">

	<property name="version" value="20070228"/>

	<path id="project.class.path">
		<pathelement path="../Seashell/bin"/>
	</path>

	<!-- Create dictionary index -->
	<target name="index">
		<java classname="org.itadaki.seashell.tools.Indexer"
		      classpathref="project.class.path">
			<arg line="edict"/>
		</java>
	</target>

	<!-- Build OOo extension Uno package -->
	<target name="uno-package" depends="index">
		<zip destfile="itadaki-data-edict-${version}.uno.pkg">
			<zipfileset dir="." includes="itadaki-data.properties"/>
			<zipfileset dir="." includes="edict"/>
			<zipfileset dir="." includes="edict.iidx"/>
			<zipfileset dir="." includes="LICENSE"/>
			<zipfileset dir="." includes="README"/>
			<zipfileset dir="unopackage" includes="manifest.xml" fullpath="META-INF/manifest.xml"/>
		</zip>
	</target>

	<!-- Clean project -->
	<target name="clean">
		<delete file="edict.iidx"/>
		<delete file="itadaki-data-edict-${version}.uno.pkg"/>
	</target>

</project>

